"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[938],{4079:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r,c,o,s,a=t(2982),i=t(5861),u=t(885),l=t(168),h=t(7757),f=t.n(h),p=t(2791),d=t(3504),m=t(9085),x=t(6031),g=t(4277),v=t(6373),w=t(5419),Z=t(3186),b=t(3880),j=t(8152),y=t(9586),S=t(1413),k=t(1134),z=t(5763),q=t(184),F=x.ZP.form(r||(r=(0,l.Z)(["\nmargin: 0 auto ","px;\ndisplay: flex;\nalign-items: center;\nwidth: 100%;\nmax-width: 300px;\nborder-bottom: 1 px solid ",";\noverflow: hidden;\n"])),(function(e){return e.theme.space[3]}),(function(e){return e.theme.colors.accent})),P=x.ZP.input(c||(c=(0,l.Z)(["\ndisplay: inline-block;\nwidth: 100%;\nfont: inherit;\nfont-size: ",";\nborder: none;\nborder-bottom: 2px solid ",";\ncolor: ",";\nbackground-color: transparent;\noutline: none;\npadding-left: ","px;\npadding-right: ","px;\n  &::placeholder {\n    font: inherit;\n    font-size: ",";\n    color: ",";\n  };\n"])),(function(e){return e.theme.fontSizes.m}),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.space[1]}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.fontSizes.s}),(function(e){return e.theme.colors.white})),A=x.ZP.button(o||(o=(0,l.Z)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nborder: 0;\nbackground: transparent;\ntransition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\ncursor: pointer;\noutline: none;\n  svg{\n    width: 20px;\n    height: 20px;\n    color: ",";\n  };\n"])),(function(e){return e.theme.colors.white})),C=function(e){var n=e.onSearch,t=(0,k.cI)(),r=t.register,c=t.handleSubmit,o=t.resetField;return(0,q.jsxs)(F,{onSubmit:c((function(e){n(e.query),o("query")})),children:[(0,q.jsx)(P,(0,S.Z)((0,S.Z)({type:"text",placeholder:"Search for movie"},r("query")),{},{autoComplete:"off",autoFocus:!0})),(0,q.jsx)(A,{type:"submit",children:(0,q.jsx)(z.a4h,{})})]})},E=t(2707),_=t(2294),O=t(5590),D=x.ZP.div(s||(s=(0,l.Z)(["\nmargin-bottom: ","px;\n"])),(function(e){return e.theme.space[3]})),N=function(){var e,n=(0,p.useState)([]),t=(0,u.Z)(n,2),r=t[0],c=t[1],o=(0,p.useState)(1),s=(0,u.Z)(o,2),l=s[0],h=s[1],x=(0,d.lr)({}),S=(0,u.Z)(x,2),k=S[0],z=S[1],F=(0,p.useState)([]),P=(0,u.Z)(F,2),A=P[0],N=P[1],I=(0,p.useState)([]),J=(0,u.Z)(I,2),L=J[0],T=J[1],U=(0,p.useState)([]),W=(0,u.Z)(U,2),Y=W[0],$=W[1],B=(0,p.useState)(""),G=(0,u.Z)(B,2),H=G[0],K=G[1],M=(0,p.useState)([]),Q=(0,u.Z)(M,2),R=Q[0],V=Q[1],X=(0,p.useState)(!1),ee=(0,u.Z)(X,2),ne=ee[0],te=ee[1],re=null!==(e=k.get("query"))&&void 0!==e?e:"";(0,p.useEffect)((function(){(0,i.Z)(f().mark((function e(){var n,t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.JZ();case 3:n=e.sent,t=n.genres,V(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m.Am.info("Something went wrong ".concat(e.t0));case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),(0,p.useEffect)((function(){re&&(0,i.Z)(f().mark((function e(){var n,t,r,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),e.next=4,w.UN(re,l);case 4:n=e.sent,t=Object.assign({},n),r=t.data,(o=(0,Z.c)(r.results,R)).length>0?c(1===l?(0,a.Z)(o):function(e){return[].concat((0,a.Z)(e),(0,a.Z)(o))}):m.Am.info("Sorry, there are no movies matching your search query. Please try again."),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),m.Am.info("Something went wrong ".concat(e.t0));case 15:return e.prev=15,te(!1),e.finish(15);case 18:case 19:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))()}),[R,l,re]),(0,p.useEffect)((function(){(0,i.Z)(f().mark((function e(){var n,t,r,c,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),e.next=4,w.ev();case 4:return n=e.sent,t=n.data,N((0,a.Z)(t.results)),e.next=9,w.on();case 9:return r=e.sent,c=Object.assign({},r),T((0,a.Z)(c.data.results)),e.next=14,w.s2();case 14:o=e.sent,s=Object.assign({},o),$(s.data.results[0].id),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),m.Am.info("Something went wrong ".concat(e.t0));case 22:return e.prev=22,te(!1),e.finish(22);case 25:case 26:case"end":return e.stop()}}),e,null,[[0,19,22,25]])})))()}),[R]),(0,p.useEffect)((function(){(0,i.Z)(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),e.next=4,w.Yj(Y);case 4:null!==(n=e.sent)&&void 0!==n&&n.results&&K(n.results[0]),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,te(!1),e.finish(10);case 13:case 14:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})))()}),[Y]);return(0,q.jsxs)(j.W,{children:[ne&&(0,q.jsx)(v.g4,{color:"#eead71",height:60,width:60}),(0,q.jsxs)(y.$,{children:[(0,q.jsx)(C,{onSearch:function(e){z(""!==e?{query:e}:{}),h(1),c([])}}),A.length>0&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(_.D,{children:"Now playing"}),(0,q.jsx)(O.i,{movies:A})]}),r.length>0&&(0,q.jsx)(b.s,{movies:r}),r.length>=20&&(0,q.jsx)(E.z,{onClick:function(){h((function(e){return e+1}))},children:"Load more"}),0===r.length&&H&&(0,q.jsx)(D,{children:(0,q.jsx)(g.Z,{trailer:H,url:"https://www.youtube.com/embed/".concat(H.key),width:"100%",height:"600px",loading:"lazy",allowFullScreen:!0})}),A.length>0&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(_.D,{children:"Top rated"}),(0,q.jsx)(O.i,{movies:L})]})]})]})}}}]);
//# sourceMappingURL=938.f6fdbd95.chunk.js.map