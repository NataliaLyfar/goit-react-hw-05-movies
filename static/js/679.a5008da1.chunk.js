"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[679],{9809:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r,c,s,o,a=t(2982),i=t(5861),u=t(885),l=t(168),h=t(7757),f=t.n(h),p=t(2791),d=t(3504),m=t(9085),x=t(6031),g=t(4277),v=t(6373),w=t(5419),Z=t(3186),b=t(3880),j=t(8152),y=t(9586),S=t(1413),k=t(1134),q=t(5763),z=t(184),F=x.ZP.form(r||(r=(0,l.Z)(["\nmargin: 0 auto ","px;\ndisplay: flex;\nalign-items: center;\nwidth: 100%;\nmax-width: 300px;\nborder-bottom: 1 px solid ",";\noverflow: hidden;\n"])),(function(e){return e.theme.space[3]}),(function(e){return e.theme.colors.accent})),I=x.ZP.input(c||(c=(0,l.Z)(["\ndisplay: inline-block;\nwidth: 100%;\nfont: inherit;\nfont-size: ",";\nborder: none;\nborder-bottom: 2px solid ",";\ncolor: ",";\nbackground-color: transparent;\noutline: none;\npadding-left: ","px;\npadding-right: ","px;\n  &::placeholder {\n    font: inherit;\n    font-size: ",";\n    color: ",";\n  };\n"])),(function(e){return e.theme.fontSizes.m}),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.space[1]}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.fontSizes.s}),(function(e){return e.theme.colors.white})),P=x.ZP.button(s||(s=(0,l.Z)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nborder: 0;\nbackground: transparent;\ntransition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\ncursor: pointer;\noutline: none;\n  svg{\n    width: 20px;\n    height: 20px;\n    color: ",";\n  };\n"])),(function(e){return e.theme.colors.white})),A=function(e){var n=e.onSearch,t=(0,k.cI)(),r=t.register,c=t.handleSubmit,s=t.resetField;return(0,z.jsxs)(F,{onSubmit:c((function(e){n(e.query),s("query")})),children:[(0,z.jsx)(I,(0,S.Z)((0,S.Z)({type:"text",placeholder:"Search for movie"},r("query")),{},{autoComplete:"off",autoFocus:!0})),(0,z.jsx)(P,{type:"submit",children:(0,z.jsx)(q.a4h,{})})]})},C=t(2707),E=t(8288),_=t(5590),O=x.ZP.div(o||(o=(0,l.Z)(["\nmargin-bottom: ","px;\n"])),(function(e){return e.theme.space[3]})),D=function(){var e,n=(0,p.useState)([]),t=(0,u.Z)(n,2),r=t[0],c=t[1],s=(0,p.useState)(1),o=(0,u.Z)(s,2),l=o[0],h=o[1],x=(0,d.lr)({}),S=(0,u.Z)(x,2),k=S[0],q=S[1],F=(0,p.useState)([]),I=(0,u.Z)(F,2),P=I[0],D=I[1],N=(0,p.useState)([]),J=(0,u.Z)(N,2),L=J[0],T=J[1],U=(0,p.useState)([]),W=(0,u.Z)(U,2),Y=W[0],$=W[1],B=(0,p.useState)(""),G=(0,u.Z)(B,2),H=G[0],K=G[1],M=(0,p.useState)([]),Q=(0,u.Z)(M,2),R=Q[0],V=Q[1],X=(0,p.useState)(!1),ee=(0,u.Z)(X,2),ne=ee[0],te=ee[1],re=null!==(e=k.get("query"))&&void 0!==e?e:"";(0,p.useEffect)((function(){(0,i.Z)(f().mark((function e(){var n,t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.JZ();case 3:n=e.sent,t=n.genres,V(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m.Am.info("Something went wrong ".concat(e.t0));case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),(0,p.useEffect)((function(){re&&(0,i.Z)(f().mark((function e(){var n,t,r,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.I4.page=l,w.I4.query=re,e.prev=2,te(!0),e.next=6,w.UN(w.I4);case 6:n=e.sent,t=Object.assign({},n),r=t.data,(s=(0,Z.c)(r.results,R)).length>0?1===w.I4.page?c((0,a.Z)(s)):c((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(s))})):m.Am.info("Sorry, there are no movies matching your search query. Please try again."),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),m.Am.info("Something went wrong ".concat(e.t0));case 17:return e.prev=17,te(!1),e.finish(17);case 20:case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))()}),[R,l,re]),(0,p.useEffect)((function(){(0,i.Z)(f().mark((function e(){var n,t,r,c,s,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),e.next=4,w.ev();case 4:return n=e.sent,t=n.data,D((0,a.Z)(t.results)),e.next=9,w.on();case 9:return r=e.sent,c=Object.assign({},r),T((0,a.Z)(c.data.results)),e.next=14,w.s2();case 14:s=e.sent,o=Object.assign({},s),$(o.data.results[0].id),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),m.Am.info("Something went wrong ".concat(e.t0));case 22:return e.prev=22,te(!1),e.finish(22);case 25:case 26:case"end":return e.stop()}}),e,null,[[0,19,22,25]])})))()}),[R]),(0,p.useEffect)((function(){(0,i.Z)(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),e.next=4,w.Yj(Y);case 4:null!==(n=e.sent)&&void 0!==n&&n.results&&K(n.results[0]),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,te(!1),e.finish(10);case 13:case 14:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})))()}),[Y]);return(0,z.jsxs)(j.W,{children:[ne&&(0,z.jsx)(v.g4,{color:"#eead71",height:60,width:60}),(0,z.jsxs)(y.$,{children:[(0,z.jsx)(A,{onSearch:function(e){q(""!==e?{query:e}:{}),h(1),c([])}}),P.length>0&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(E.D,{children:"Now playing"}),(0,z.jsx)(_.i,{movies:P})]}),r.length>0&&(0,z.jsx)(b.s,{movies:r}),r.length>=20&&(0,z.jsx)(C.z,{onClick:function(){h((function(e){return e+1}))},children:"Load more"}),0===r.length&&H&&(0,z.jsx)(O,{children:(0,z.jsx)(g.Z,{trailer:H,url:"https://www.youtube.com/embed/".concat(H.key),width:"100%",height:"600px",allowFullScreen:!0})}),P.length>0&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(E.D,{children:"Top rated"}),(0,z.jsx)(_.i,{movies:L})]})]})]})}}}]);
//# sourceMappingURL=679.a5008da1.chunk.js.map